{% extends 'base.html.twig' %}

{% block title %}PARTICIPATION • UN TROUSSEAU POUR CHABAP{% endblock %}

{% block body %}
    <div class="row page-title">
        <h1>Contribution de {{ payment.amount }} €</h1>
    </div>
    <div class="row stripe-form">
        <form id="payment-form" method="post">
            <div id="card-element" class="form-group"><!--Stripe.js injects the Card Element--></div>
            <button id="card-button" data-secret="{{ paymentIntent.clientSecret }}" class="btn btn-primary">
                <div class="spinner hidden" id="spinner"></div>
                <span id="button-text">Payer</span>
            </button>
            <p id="card-error" role="alert"></p>
            <p class="result-message hidden">
                Paiement accepté ! Merci pour votre participation. <a href="{{ path('product_index') }}">Retour à la liste des cadeaux</a>
            </p>
        </form>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('payment') }}
{% endblock %}